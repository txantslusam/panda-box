!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.PandaBox=e():t.PandaBox=e()}(window,function(){return function(n){var o={};function i(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}return i.m=n,i.c=o,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=o(n(1)),r=o(n(3));n(4);var s=function(t){var e=this;this.defaultSelector="[data-pandabox]",this.selector=t||this.defaultSelector,this.popup=new r.default,this.galleries=Array.from(document.querySelectorAll(this.selector)).map(function(t){return new i.default(t,e.popup)})};e.default=s},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=o(n(2)),r=function(){function t(t,e){this.popup=e,this.root=t,this.collectImages(),this.images.length&&this.setEvents()}return t.prototype.collectImages=function(){this.imageAnchors=Array.from(this.root.querySelectorAll("a")).filter(function(t){return"IMG"===t.firstElementChild.nodeName}),this.images=this.imageAnchors.map(function(t){return new i.default(t.getAttribute("href"),t.getAttribute("data-title"),t.getAttribute("data-description"))})},t.prototype.setEvents=function(){var n=this;this.imageAnchors.forEach(function(t,e){t.addEventListener("click",function(t){t.preventDefault(),n.popup.loadGallery(n.images,e)})})},t}();e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e,n){this.src=t,this.title=e,this.description=n};e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 669 1024"><path d="M480 992c19.2 19.2 48 32 76.8 32 60.8 0 112-48 112-112 0-32-12.8-57.6-32-76.8l-329.6-329.6 323.2-329.6c19.2-19.2 28.8-44.8 28.8-73.6 0-25.6-9.6-48-22.4-67.2v0c-22.4-22.4-48-35.2-80-35.2v0c-32 0-57.6 12.8-76.8 35.2v0l-480 476.8 480 480z"></path></svg>',i=function(){function t(){this.prepareRoot(),this.prepareSlider(),this.prepareButtons(),this.setEvents()}return t.prototype.loadGallery=function(t,e){var o=this;void 0===e&&(e=0),this.activeImages=t,this.imagesContainer.innerHTML="",this.activeImagesElements=t.map(function(t){var e=document.createElement("div");e.className="pandaBoxPopup__imageWrapper";var n=document.createElement("img");return n.setAttribute("src",t.src),e.appendChild(n),o.imagesContainer.appendChild(e),n}),this.activeImagesElements.forEach(function(t){return t.addEventListener("click",function(t){t.stopPropagation()})}),this.setActiveIndex(e,!0),this.openPopup()},t.prototype.prepareRoot=function(){this.root=document.createElement("div"),this.root.className="pandaBoxPopup",this.root.id="#pandaBoxPopup",this.root.setAttribute("role","dialog"),document.body.appendChild(this.root)},t.prototype.prepareSlider=function(){var t=document.createElement("div");t.className="pandaBoxPopup__wrapper",this.title=document.createElement("div"),this.title.className="pandaBoxPopup__title",this.description=document.createElement("div"),this.description.className="pandaBoxPopup__description",this.imagesContainer=document.createElement("div"),this.imagesContainer.className="pandaBoxPopup__container",t.appendChild(this.imagesContainer),this.root.appendChild(this.title),this.root.appendChild(t),this.root.appendChild(this.description)},t.prototype.prepareButtons=function(){this.prevArrow=document.createElement("button"),this.prevArrow.setAttribute("type","button"),this.prevArrow.setAttribute("aria-label","Previous"),this.prevArrow.className="pandaBoxPopup__arrow pandaBoxPopup__arrow--prev",this.prevArrow.innerHTML=o,this.nextArrow=document.createElement("button"),this.nextArrow.setAttribute("type","button"),this.nextArrow.setAttribute("aria-label","Next"),this.nextArrow.className="pandaBoxPopup__arrow pandaBoxPopup__arrow--next",this.nextArrow.innerHTML=o,this.closeButton=document.createElement("button"),this.closeButton.setAttribute("type","button"),this.closeButton.setAttribute("aria-label","Close"),this.closeButton.className="pandaBoxPopup__closeButton",this.closeButton.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/><path d="M0 0h24v24H0z" fill="none"/></svg>',this.root.appendChild(this.prevArrow),this.root.appendChild(this.nextArrow),this.root.appendChild(this.closeButton)},t.prototype.setEvents=function(){var e=this;this.title.addEventListener("click",function(t){t.stopPropagation()}),this.description.addEventListener("click",function(t){t.stopPropagation()}),this.prevArrow.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),e.showPreviousImage()}),this.nextArrow.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),e.showNextImage()}),this.closeButton.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),e.closePopup()}),this.root.addEventListener("click",function(){return e.closePopup()}),document.addEventListener("keydown",function(t){return e.keyDownHandler(t)})},t.prototype.setActiveIndex=function(t,e){var n=this;void 0===e&&(e=!1),this.activeIndex=t,e&&(this.imagesContainer.style.transition="none"),this.imagesContainer.style.transform=this.imagesContainer.style.webkitTransform="translate3d("+-100*t+"%, 0, 0)",setTimeout(function(){n.imagesContainer.style.transition=""},1)},t.prototype.openPopup=function(){this.root.classList.add("pandaBoxPopup--active"),1===this.activeImages.length&&this.root.classList.add("pandaBoxPopup--singleImage")},t.prototype.closePopup=function(){this.activeImagesElements.forEach(function(t){return t.removeEventListener("click",function(t){t.stopPropagation()})}),this.root.className="pandaBoxPopup",this.activeIndex=0,this.activeImages=[],this.activeImagesElements=[]},t.prototype.indicateEnd=function(t){var e=this;void 0===t&&(t=!1);this.imagesContainer.style.transform=this.imagesContainer.style.webkitTransform=t?"translate3d("+(-100*this.activeIndex+5)+"%, 0, 0)":"translate3d("+(-100*this.activeIndex-5)+"%, 0, 0)",setTimeout(function(){e.imagesContainer.style.transform="translate3d("+-100*e.activeIndex+"%, 0, 0)",e.imagesContainer.style.webkitTransform="translate3d("+-100*e.activeIndex+"%, 0, 0)"},300)},t.prototype.showPreviousImage=function(){0!==this.activeIndex?this.setActiveIndex(this.activeIndex-1):this.indicateEnd(!0)},t.prototype.showNextImage=function(){this.activeIndex!==this.activeImages.length-1?this.setActiveIndex(this.activeIndex+1):this.indicateEnd()},t.prototype.keyDownHandler=function(t){switch(t.keyCode){case 37:this.showPreviousImage();break;case 39:this.showNextImage();break;case 27:this.closePopup();break;case 36:this.setActiveIndex(0);break;case 35:this.setActiveIndex(this.activeImages.length-1)}},t}();e.default=i},function(t,e,n){}]).default});